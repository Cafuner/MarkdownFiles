二叉树的非递归遍历



二叉树的3种经典遍历方式：先序遍历，中序遍历，后序遍历。

使用递归方式遍历非常简单，本文介绍非递归的遍历方法。这些方法的空间复杂度为 $O(n)$ ，如果对空间有要求，可以使用 Morris遍历，空间复杂度为 $O(1)$ 。



## 先序遍历

先序遍历的访问顺序：头节点->左子树->右子树。

因此，我们只需要使用一个栈存储节点即可。首先把根节点入栈，然后循环从栈顶取节点直到栈为空。

对于每次从栈顶弹出的节点，可以直接访问，再将其右子节点入栈，最后将其左子节点入栈。



## 中序遍历

很明显也需要使用栈来存储节点。但是，我们不能简单的从栈顶弹出根节点开始遍历，因为对于非递归方法来说，当一个节点从栈中弹出时，我们就需要立刻访问它，而中序遍历要先访问左子树，那么根节点就必须在访问完左子树后才出栈。因此，我们应该先把最左侧的分支全部入栈，然后再挨个出栈访问。在出栈时，如果当前节点有右子节点，那么同理，要把以这个右子节点为根的左分支全部入栈。



## 后序遍历

后序遍历与先序遍历的区别在于后者的根节点是最后访问，而后者的根节点是最先访问。考虑在先序遍历时，如果我们在访问完根节点后，先将根节点的左子节点入栈，再将右子节点入栈，那么最终节点的访问顺序就与后序遍历的访问顺序正好相反。那么我们完全可以按照这种经过修改的先序遍历来遍历二叉树，将访问的节点都存储到一个辅助栈中，最后再遍历辅助栈中的节点，就完成了后序遍历。
