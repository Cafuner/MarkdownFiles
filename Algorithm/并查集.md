# 并查集

## 1.并查集是什么

并查集是一种用来管理元素分组情况的数据结构。并查集可以高效地进行如下操作。不过需要注 意并查集虽然可以进行合并操作，但是却无法进行分割操作。

- 査询元素a和元素b是否属于同一组。
- 合并元素a和元素b所在的组。



## 2.并查集的结构

并查集也是使用树形结构实现的。不过，不是二叉树。每个元素对应一个节点，每个组对应一棵树。在并査集中，哪个节点是哪个节点的父亲以及树的形状等信息无需多加关注，整体组成一个树形结构才是重要的。

下面是并查集的实现的例子。在例子中，我们用编号代表每个元素。数组par表示的是父亲的编号，par[x]=x时，x是所在的树的根。

```c++
int par [MAX_N]; // 父亲
int rank [MAx_N]; // 树的高度

// 初始化n个元素
void init (int n) {
	for (int i=0; i<n; i++）{
		par[i] = i;
    }
}

// 查询树的根
int find (int x) {
	if (par [x] == x) {
		return x;
    } else{
		return par [x] = find(par[x]);
    }
}

// 合并x和y所属的集合
void unite (int x, int y) {
	x = find(x);
	y = find(y);
	if (x == y) return;
	par[x] = y;
}
          
// 判断x和y是否属于同一个集合
bool same(int x, int y) {
    return find(x) == find(y);
}
```

